
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="bashdoc" />
  <link href="https://fonts.googleapis.com/css?family=Lora:400,400italic|Work+Sans:300,400,500,600" rel="stylesheet" type="text/css"/>

  <title>bashdoc</title>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
  </style>
  <style>
  * {
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
      margin-top: 0;
  }
      html, div, body { margin:0; padding:0; }
      #toc {
        width: 25%;
        margin:50px 0 0 0;
        padding:0 2%;
        float: left;
        background: #3E4042;
        color: #dadada;
      }
      body {
      font-family: "Work sans", Helvetica, Arial, sans-serif;
      font-size: 15px;
      line-height: 1.4;
      background: #3E4042;
      }

      h1,h2,h3,h4,h5,h6 {
        font-family: "Work sans","Helvetica Neue", Helvetica, Arial, sans-serif;
        font-weight: 500;
      }

      #toc ul { padding:0; margin:0; }
      #toc > ul > li { margin-bottom: 2em; }
      #toc li { list-style: none; padding-left:0; }
      #toc ul ul { padding-left: 1.25em; }
      #toc code { display:none; }
      #toc a {
        color: #dadada;
        text-decoration: none;
      }
      #toc a:hover {
        color: #fff;
      }
      #content {
        padding: 50px 5% 50px 5%;
        margin:0 0 0 25%;
        background: #fff;
      }

      .section pre {
        border-radius: 10px;
        border:1px solid #dadada;
        background: #ededed;
        width:100%;
        padding:5px;
        font-family: monospace;
        font-size:120%
      }

      pre.sourceCode {
        border-radius: 0;
        border: 0;
        background: #ededed;
        padding:10px 5px 10px 5px;
        width: auto;
        font-size: 90%;
      }

      .module .section {
        padding-left: 2em;
      }

      .module .section p::first-letter {
        text-transform: capitalize;
      }

      .module h4 { margin-bottom:0 !important; }

      p { 
        width: 80%;
        text-align: justify;
      }

      .module p {
        padding-left: 1em;
        color: #555;
        font-style: italic;
      }

    .module h2 {
      border-bottom:1px solid #444;
      margin:2em 0 1em 0;
    }
    .module h2:before {
       content: "module";
       color: #444;
       font-family: monospace;
       font-size: 90%;
       padding-right:0.4em;
    }

    .module h3 {
      border-bottom:1px solid #dadada;
      margin:2em 0 1em 0;
    }

    .module h3:before {
       content: "function";
       color: #888;
       font-family: monospace;
       font-size: 90%;
       padding-right:0.4em;
    }

    .module dl {
      padding: 0.5em;
    }
    .module dt {
      display: inline-block;
      float: left;
      min-width: 125px;
      font-weight: bold;
      color: #333;
    }
    .module dd:after {
      display: block;
      content: "";
    }
    .module dt:after {
      content: ":";
    }
    .module dd {
      margin: 0 0 0 125px;
    }
    .module h3 code {
      font-size: 80%;
      color: #555;
    }

    hr { margin-top:2em; margin-bottom: 2em; border:1px solid #555;
    background: none; }
    div.sourceCode { width: 100% !important; }
    td.lineNumbers { padding-left:0 !important; }
    .sourceCode pre { margin-bottom:0 !important; }
    .sourceCode { margin-bottom: 0.5em !important; }


  h1 code,h2 code,h3 code,h4 code,.section p code, dl code {
    background: none !important;
    color: #555 !important;
  }
  </style>
<body class="book toc2 toc-left">
<div id="toc" class="toc2">
<ul>
<li><a href="#bashdoc">bashdoc</a>
<ul>
<li><a href="#documentation-syntax">Documentation syntax</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#using-api-name">Using API name</a></li>
<li><a href="#using-custom-stylesheet">Using custom stylesheet</a></li>
</ul></li>
<li><a href="#bashdoc-api-reference">bashdoc API Reference</a>
<ul>
<li><a href="#doc">doc</a>
<ul>
<li><a href="#docread_blocks-api">doc::read_blocks
<code>[api]</code></a></li>
<li><a href="#docoutput-file">doc::output
<code>&lt;file&gt;+</code></a></li>
<li><a href="#docgenerate-file">doc::generate
<code>&lt;file&gt;+</code></a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="content">
<div id="header">
<h1>bashdoc</h1>
</div>
<section id="bashdoc" class="level1">
<h1>bashdoc</h1>
<p>Documentation generator for bash applications.</p>
<section id="documentation-syntax" class="level2">
<h2>Documentation syntax</h2>
<p>Bashdoc will evaluate some special comments into the source code. The
comments are prefixed with the following doc strings:</p>
<dl>
<dt><code># mod: modname</code></dt>
<dd>
The module name itself.
</dd>
<dt><code># fun: funsignature</code></dt>
<dd>
The function signature, usually include parameters here, but not
describe them.
</dd>
<dt><code># txt:</code></dt>
<dd>
Textual description of the previous declarated section (module or
function).
</dd>
<dt><code># opt: param: ...</code></dt>
<dd>
Describe an option or parameter to a function.
</dd>
<dt><code># env: VAR: ...</code></dt>
<dd>
Describe a environment variable called <code>$VAR</code>.
</dd>
<dt><code># use: ...</code></dt>
<dd>
Provides an example of use of the function or module.
</dd>
<dt><code># api: ...</code></dt>
<dd>
Set the API name for this element. The API name could be used to filter
what functions or modules will be documented in final output.
</dd>
</dl>
</section>
<section id="examples" class="level2">
<h2>Examples</h2>
<p>Letâ€™s suppose the following content of the file
<code>script.bash</code></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mod: example</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># txt: this module is an example for documentation.</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#      The txt sections as also opt and env ones can</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#      be multiline if lines are kept vertical aligned.</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># fun: sum num1 num2</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># txt: sum two numbers and output the result</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># opt: num1: the first number to sum</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># opt: num2: the second number to sum</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># use: sum 1 3</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># api: sum</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">sum ()</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$(($1</span> <span class="op">+</span> <span class="va">$2))</span><span class="st">&quot;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code></pre></div>
<p>Now you can generate the HTML with the command:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">bashdoc</span> <span class="at">-o</span> doc.html script.bash</span></code></pre></div>
</section>
<section id="using-api-name" class="level2">
<h2>Using API name</h2>
<p>Leâ€™ts suppose the previous example code, and we need to add more
functions there:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fun: internal_sum num1</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># txt: return zero (yes, it&#39;s not very usefull function)</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># api: internal</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">internal_sum ()</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">echo</span> 0</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code></pre></div>
<p>If we generate the HTML in the same way that we do previously, the
result HTML will contain two documented functions: <code>sum</code> and
<code>internal_sum</code>, but we donâ€™t want the second one in the
documentation. Of course we can remove the doc strings from there, but
then we loose the documentation in the code too. To avoid this problem
we can use the API name. If you look carefully, you can see that the api
name in the first function is <code>sum</code>, and in the second one is
<code>internal</code>. If we run bashdoc as following:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">bashdoc</span> <span class="at">-A</span> sum <span class="at">-o</span> doc.html script.bash</span></code></pre></div>
<p>We will create documentation only for functions tagged as API
<em>sum</em>. Please note that if you force a specific API tag, then
functions or modules without declared API will be not documented.</p>
</section>
<section id="using-custom-stylesheet" class="level2">
<h2>Using custom stylesheet</h2>
<p>By default bashdoc using its own CSS stylesheet and HTML template,
which is pretty nice, by the way, but if you want to use your own style
and/or HTML template, you can use it passing paramenters <code>-s</code>
(for style) and <code>-t</code> (for template) to the bashdoc
command.</p>
<p>Accepted styleshet is any file which contains valid CSS code.
Accepted template is any template accepted by pandoc.</p>
<p>For example:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">bashdoc</span> <span class="at">-s</span> mystyle.css <span class="at">-t</span> mytemplate.html <span class="at">-o</span> doc.html script.bash</span></code></pre></div>
<hr />
</section>
</section>
<section id="bashdoc-api-reference" class="level1">
<h1>bashdoc API Reference</h1>
<section id="doc" class="level2 module">
<h2 class="module">doc</h2>
<p>The <code>doc</code> module provides functions to convert bash source
code to HTML, using markdown and specific CSS themes.</p>
<section id="docread_blocks-api" class="level3 function">
<h3 class="function">doc::read_blocks <code>[api]</code></h3>
<p>read and print blocks readed from stdin which match with specific api
definition. If api is not provided all elements will be documentated, if
api is provided, only elements with declared api matched with provided
one will be documented. If api is provided, but is not declared in
documentation, then item will be documentated too.</p>
<section id="parameters" class="level4">
<h4>Parameters</h4>
<dl>
<dt><code>api</code></dt>
<dd>
a string which identify the API to be documented.
</dd>
</dl>
</section>
<section id="environment-variables" class="level4">
<h4>Environment variables</h4>
<dl>
<dt><code>DOCSTRING</code></dt>
<dd>
The docstring comment which identify a special comment used for
documentation. By default â€˜sha-spaceâ€™ (# ).
</dd>
</dl>
</section>
<section id="usage-example" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">doc::read_blocks</span> v1 <span class="op">&lt;</span> script</span></code></pre></div>
</section>
</section>
<section id="docoutput-file" class="level3 function">
<h3 class="function">doc::output <code>&lt;file&gt;+</code></h3>
<p>Create intermediate markdown code required to produce final HTML.</p>
<section id="environment-variables-1" class="level4">
<h4>Environment variables</h4>
<dl>
<dt><code>TITLE</code></dt>
<dd>
The document title.
</dd>
<dt><code>AUTHOR</code></dt>
<dd>
The document author.
</dd>
<dt><code>DATE</code></dt>
<dd>
The date of the produced document.
</dd>
</dl>
</section>
<section id="usage-example-1" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">doc::output</span> file</span></code></pre></div>
</section>
</section>
<section id="docgenerate-file" class="level3 function">
<h3 class="function">doc::generate <code>&lt;file&gt;+</code></h3>
<p>generate HTML for the specified files passed as arguments.</p>
<section id="environment-variables-2" class="level4">
<h4>Environment variables</h4>
<dl>
<dt><code>OUTPUT</code></dt>
<dd>
filename of the output file or stdout if not provided.
</dd>
</dl>
</section>
<section id="usage-example-2" class="level4">
<h4>Usage example</h4>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">doc::generate</span> file</span></code></pre></div>
<hr />
</section>
</section>
</section>
</section>
</div>
</body>
